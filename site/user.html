<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Users</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary bg-primary" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><h2>LogMe</h2></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 nav-pills">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="signup.html">Signup</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout">Logout</a>
                    </li>
                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>

    <div class="bg-primary text-white py-4">
      <div class="container">
        <h1 class="mb-2">Users</h1>
        <p class="lead mb-0">Manage registered users</p>
      </div>
    </div>

    <div class="container my-4">
      <div class="row">
        <div class="col-lg-8">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h1 class="h3">Blog</h1>
            <a class="btn btn-sm btn-outline-secondary" href="/signup.html">Write Post</a>
          </div>

          {% if posts and posts|length > 0 %}
          <div class="row g-4">
            {% for post in posts %}
            <div class="col-12">
              <article class="card shadow-sm">
                <div class="card-body">
                  <h3 class="card-title">{{ post.title }}</h3>
                  <p class="text-muted mb-1">By <strong>{{ post.author or 'Unknown' }}</strong> • {{ post.published_at.strftime('%Y-%m-%d') if post.published_at else '-' }}</p>
                  <p class="card-text">{{ post.excerpt or post.content[:200] ~ '...' }}</p>
                  <div class="d-flex justify-content-between align-items-center">
                    <div>
                      {% if post.tags %}
                        {% for tag in post.tags %}
                          <span class="badge bg-secondary">{{ tag }}</span>
                        {% endfor %}
                      {% endif %}
                    </div>
                    <a href="/post/{{ post.id }}" class="btn btn-sm btn-primary">Read more</a>
                  </div>
                </div>
              </article>
            </div>
            {% endfor %}
          </div>
          {% else %}
          <div class="card shadow-sm mb-3">
            <div class="card-body">
              <h3 class="card-title">Welcome to the LogMe Blog</h3>
              <p class="text-muted mb-1">By <strong>Admin</strong> • 2025-12-26</p>
              <p class="card-text">This is a sample post to demonstrate the blog layout. Use this area to share updates, tips, or release notes about the application. Replace this content with real posts from your database or CMS.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <span class="badge bg-secondary">announcement</span>
                  <span class="badge bg-secondary">release</span>
                </div>
                <a href="#" class="btn btn-sm btn-primary">Read more</a>
              </div>
            </div>
          </div>
          {% endif %}
        </div>

        <aside class="col-lg-4">
          <div class="card mb-3">
            <div class="card-header bg-secondary text-white">Search</div>
            <div class="card-body">
              <form method="get" action="/search">
                <div class="input-group">
                  <input class="form-control" name="q" placeholder="Search posts..." />
                  <button class="btn btn-outline-light btn-primary" type="submit">Search</button>
                </div>
              </form>
            </div>
          </div>

          <div class="card mb-3">
            <div class="card-header bg-info text-white">Categories</div>
            <div class="list-group list-group-flush">
              {% for cat in categories or [] %}
                <a href="/category/{{ cat }}" class="list-group-item list-group-item-action">{{ cat }}</a>
              {% else %}
                <div class="list-group-item">No categories</div>
              {% endfor %}
            </div>
          </div>

          <div class="card">
            <div class="card-header bg-light">Recent Posts</div>
            <ul class="list-group list-group-flush">
              {% for recent in recent_posts or [] %}
                <li class="list-group-item"><a href="/post/{{ recent.id }}">{{ recent.title }}</a></li>
              {% else %}
                <li class="list-group-item">No recent posts</li>
              {% endfor %}
            </ul>
          </div>
        </aside>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"></script>
  </body>
</html>
